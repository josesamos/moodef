% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/format_questions_extended.R
\name{validate_and_adjust_dataframe}
\alias{validate_and_adjust_dataframe}
\title{Validate and Adjust a Dataframe Structure}
\usage{
validate_and_adjust_dataframe(df)
}
\arguments{
\item{df}{A dataframe to validate and adjust. The dataframe must have column names.}
}
\value{
If the dataframe structure is valid, it returns the dataframe with updated column names
for the sections following "answer", "fb_answer", and "tag_1". If there are validation errors,
the function issues warnings and returns the input dataframe unchanged.
}
\description{
This function validates the structure of a dataframe to ensure it adheres to the expected format.
Specifically, it checks for the presence of required columns, verifies that the columns following
"answer" and "fb_answer" have a consistent structure, and renames columns as needed to match
the expected naming convention. If errors are detected, they are reported as warnings.
}
\details{
The function performs the following checks:
\enumerate{
\item Ensures all required columns up to \code{"answer"} are present.
\item Verifies that the column names between \code{"answer"} and \code{"fb_answer"}, and between \code{"fb_answer"}
and \code{"tag_1"}, have the same count.
\item Renames the columns after \code{"answer"} (e.g., \code{"a_1"}, \code{"a_2"}), \code{"fb_answer"} (e.g., \code{"fb_a_1"},
\code{"fb_a_2"}), and \code{"tag_1"} (e.g., \code{"tag_1"}, \code{"tag_2"}) based on their respective positions.
}
}
\keyword{internal}
